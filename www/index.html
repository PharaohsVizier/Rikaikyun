<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
		<link href="./css/style.css" type="text/css" rel="stylesheet" />
		<link href="./css/screen.css" type="text/css" rel="stylesheet" />
		<link href="./css/ruby.css" type="text/css" rel="stylesheet" />
        <title>Rikaikyun</title>
    </head>
    <body>
		<style class="dynamicStyle">
			.container img
			{
				max-height:100%;
			}
			.floater.bottom
			{
				bottom:0;
			}
			.dictionary-container
			{
				max-height:0;
			}
		</style>
		<div class="screen reader">
			<div class="scroller">
				<div class="container">
				</div>
			</div>
			<div class="statusBar">
				<div class="grid">
					<div class="col">
						<div class="progress">
							<div class="bar" style="width:0%"></div>
						</div>
					</div>
					<div class="col break"></div>
					<div class="col status">
						<span>1/1</span>
					</div>
					<div class="col break"></div>
				</div>
			</div>
			<div class="floater top">
				<div class="bar top">
					<div class="tab active" data-tab="word"><div class="pad"></div></div>
					<div class="tab" data-tab="name"><div div class="pad"></div></div>
					<div class="tab" data-tab="kanji"><div div class="pad"></div></div>
					<div class="resizer"></div><div class="close"></div>
				</div>
				<div class="dictionary-container">
					<div class="dictionary active" data-tab="word">
						<div class="empty">No words found.</div>
					</div>
					<div class="dictionary" data-tab="name">
						<div class="empty">No names found.</div>
					</div>
					<div class="dictionary" data-tab="kanji">
						<div class="empty">No kanji found.</div>
					</div>
				</div>
				<div class="bar bottom">
				</div>
			</div>
		</div>
		<div class="screen menu active">
			<div class="item file">Load file
				<input type="file" style="display:none"/>
			</div>
			<div class="item exit">Exit</div>
		</div>
		
		<div class="blink" style="display:none">
		</div>
        <script type="text/javascript" src="cordova.js"></script>
		<script src="./rikaikun/data.js"></script>
		<script src="./js/jquery/jquery-1.8.3.min.js"></script>
		<script src="./js/jquery/jquery-stylesheet.js"></script>
		<script src="./js/jquery/jquery-absolutezoom.js"></script>
		<!-- <script src="./jquery-privatescroll.js"></script> -->
		<script src="./js/jquery/jquery-fakescroll.js"></script>
		<script src="./js/jquery/jquery-hasattributes.js"></script>
		<script src="./js/jquery/jquery-removeattributes.js"></script>
		<!-- <script src="./js/getWordAtPoint.js"></script> -->
		<script src="./js/getCharacterAtPoint.js"></script>
		<script src="./js/textCrawler.js"></script>
		<script src="./js/reader.js"></script>
		<!-- <script src="./js/encoding.js"></script> -->
		<script src="./js/htmlHelpers.js"></script>
		<script src="./js/fpsCount.js"></script>
        <script type="text/javascript">
			function openExternalLink(a)
			{
				// this should prevent PhoneGap from opening external link in its WebView
				window.open(a.href);
				return false;
			}
			function run()
			{
				$(function()
				{
					//localStorage['edictPath'] = 'file:///storage/extSdCard/EDICT_Data/';
					//console.log(localStorage['edictPath']);
					var dict = new rcxDict(true);
					var reader = new Reader(dict);
					// Block context menu (makes the app run less buggy on chrome on desktop)
					$(document.body).on('contextmenu', function(e) { e.preventDefault(); });
					
					reader.openDocument('genji-01.txt');
					//reader.openHtmlDocument('genji-01utf.html');
					//reader.openHtmlDocument('test1.html');
					//fpsCount.go();
				});
			}
			//console.log(typeof cordova !== 'undefined' || typeof PhoneGap !== 'undefined' || typeof phonegap !== 'undefined');
			if (typeof cordova !== 'undefined' || typeof PhoneGap !== 'undefined' || typeof phonegap !== 'undefined')
			{
				document.addEventListener("deviceready", run, false);
			}
			else
			{
				run();
			}
        </script>
    </body>
</html>
